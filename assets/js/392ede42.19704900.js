"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7755],{28453:(e,s,r)=>{r.d(s,{R:()=>d,x:()=>a});var t=r(96540);const n={},o=t.createContext(n);function d(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),t.createElement(o.Provider,{value:s},e.children)}},71926:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>a,default:()=>l,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"operations/password-provider","title":"Password providers","description":"\x3c!--","source":"@site/docs/latest/operations/password-provider.md","sourceDirName":"operations","slug":"/operations/password-provider","permalink":"/docs/latest/operations/password-provider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"password-provider","title":"Password providers"},"sidebar":"docs","previous":{"title":"LDAP auth","permalink":"/docs/latest/operations/auth-ldap"},"next":{"title":"Dynamic Config Providers","permalink":"/docs/latest/operations/dynamic-config-provider"}}');var n=r(74848),o=r(28453);const d={id:"password-provider",title:"Password providers"},a=void 0,i={},c=[];function p(e){const s={a:"a",code:"code",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:"Passwords help secure Apache Druid systems such as the metadata store and the keystore that contains server certificates, and so on."}),"\n",(0,n.jsxs)(s.p,{children:["These passwords have corresponding runtime properties associated with them, for example ",(0,n.jsx)(s.code,{children:"druid.metadata.storage.connector.password"})," corresponds to the metadata store password."]}),"\n",(0,n.jsxs)(s.p,{children:["By default users can directly set the passwords in plaintext for runtime properties. For example, ",(0,n.jsx)(s.code,{children:"druid.metadata.storage.connector.password=pwd"})," sets the password to be used by Druid to connect to the metadata store to ",(0,n.jsx)(s.code,{children:"pwd"}),". Alternatively, users can can set passwords as environment variables."]}),"\n",(0,n.jsxs)(s.p,{children:["Environment variable passwords allow users to avoid exposing passwords in the ",(0,n.jsx)(s.code,{children:"runtime.properties"})," file."]}),"\n",(0,n.jsx)(s.p,{children:"You can set an environment variable password as in the following example:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'druid.metadata.storage.connector.password={ "type": "environment", "variable": "METADATA_STORAGE_PASSWORD" }\n'})}),"\n",(0,n.jsx)(s.p,{children:"The values are described below."}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"}),(0,n.jsx)(s.th,{children:"Required"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"type"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"password provider type"}),(0,n.jsxs)(s.td,{children:["Yes: ",(0,n.jsx)(s.code,{children:"environment"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"variable"})}),(0,n.jsx)(s.td,{children:"String"}),(0,n.jsx)(s.td,{children:"environment variable to read password from"}),(0,n.jsx)(s.td,{children:"Yes"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["Another option that provides even greater control is to securely fetch passwords at runtime using a custom extension of the ",(0,n.jsx)(s.code,{children:"PasswordProvider"})," interface that is registered at Druid process startup."]}),"\n",(0,n.jsxs)(s.p,{children:["For more information, see ",(0,n.jsx)(s.a,{href:"/docs/latest/development/modules#adding-a-new-password-provider-implementation",children:"Adding a new Password Provider implementation"}),"."]}),"\n",(0,n.jsx)(s.p,{children:"To use this implementation, simply set the relevant password runtime property similarly to how was shown for the environment variable password:"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-json",children:'druid.metadata.storage.connector.password={ "type": "<registered_password_provider_name>", "<jackson_property>": "<value>", ... }\n'})})]})}function l(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);