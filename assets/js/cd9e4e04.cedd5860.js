"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4297],{28453:(e,o,t)=>{t.d(o,{R:()=>r,x:()=>d});var n=t(96540);const s={},i=n.createContext(s);function r(e){const o=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:o},e.children)}},56712:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"development/extensions-core/google","title":"Google Cloud Storage","description":"\x3c!--","source":"@site/docs/latest/development/extensions-core/google.md","sourceDirName":"development/extensions-core","slug":"/development/extensions-core/google","permalink":"/docs/latest/development/extensions-core/google","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"google","title":"Google Cloud Storage"}}');var s=t(74848),i=t(28453);const r={id:"google",title:"Google Cloud Storage"},d=void 0,l={},c=[{value:"Google Cloud Storage Extension",id:"google-cloud-storage-extension",level:2},{value:"Required Configuration",id:"required-configuration",level:3},{value:"Reading data from Google Cloud Storage",id:"reading-data-from-google-cloud-storage",level:3},{value:"Deep Storage",id:"deep-storage",level:3},{value:"Configuration",id:"configuration",level:4}];function a(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"google-cloud-storage-extension",children:"Google Cloud Storage Extension"}),"\n",(0,s.jsx)(o.p,{children:"This extension allows you to do 2 things:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.a,{href:"#reading-data-from-google-cloud-storage",children:"Ingest data"})," from files stored in Google Cloud Storage."]}),"\n",(0,s.jsxs)(o.li,{children:["Write segments to ",(0,s.jsx)(o.a,{href:"#deep-storage",children:"deep storage"})," in GCS."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["To use this Apache Druid extension, ",(0,s.jsx)(o.a,{href:"/docs/latest/configuration/extensions#loading-extensions",children:"include"})," ",(0,s.jsx)(o.code,{children:"druid-google-extensions"})," in the extensions load list."]}),"\n",(0,s.jsx)(o.h3,{id:"required-configuration",children:"Required Configuration"}),"\n",(0,s.jsxs)(o.p,{children:["To configure connectivity to google cloud, run druid processes with ",(0,s.jsx)(o.code,{children:"GOOGLE_APPLICATION_CREDENTIALS=/path/to/service_account_keyfile"})," in the environment."]}),"\n",(0,s.jsx)(o.h3,{id:"reading-data-from-google-cloud-storage",children:"Reading data from Google Cloud Storage"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.a,{href:"/docs/latest/ingestion/input-sources",children:"Google Cloud Storage input source"})," is supported by the ",(0,s.jsx)(o.a,{href:"/docs/latest/ingestion/native-batch",children:"Parallel task"}),"\nto read objects directly from Google Cloud Storage. If you use the ",(0,s.jsx)(o.a,{href:"/docs/latest/ingestion/hadoop",children:"Hadoop task"}),",\nyou can read data from Google Cloud Storage by specifying the paths in your ",(0,s.jsx)(o.a,{href:"/docs/latest/ingestion/hadoop#inputspec",children:(0,s.jsx)(o.code,{children:"inputSpec"})}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"deep-storage",children:"Deep Storage"}),"\n",(0,s.jsxs)(o.p,{children:["Deep storage can be written to Google Cloud Storage either via this extension or the ",(0,s.jsx)(o.a,{href:"/docs/latest/development/extensions-core/hdfs",children:"druid-hdfs-storage extension"}),"."]}),"\n",(0,s.jsx)(o.h4,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(o.p,{children:["To configure connectivity to google cloud, run druid processes with ",(0,s.jsx)(o.code,{children:"GOOGLE_APPLICATION_CREDENTIALS=/path/to/service_account_keyfile"})," in the environment."]}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Property"}),(0,s.jsx)(o.th,{children:"Description"}),(0,s.jsx)(o.th,{children:"Possible Values"}),(0,s.jsx)(o.th,{children:"Default"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"druid.storage.type"})}),(0,s.jsx)(o.td,{children:"google"}),(0,s.jsx)(o.td,{}),(0,s.jsx)(o.td,{children:"Must be set."})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"druid.google.bucket"})}),(0,s.jsx)(o.td,{}),(0,s.jsx)(o.td,{children:"Google Storage bucket name."}),(0,s.jsx)(o.td,{children:"Must be set."})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"druid.google.prefix"})}),(0,s.jsx)(o.td,{children:"A prefix string that will be prepended to the blob names for the segments published to Google deep storage"}),(0,s.jsx)(o.td,{}),(0,s.jsx)(o.td,{children:'""'})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"druid.google.maxListingLength"})}),(0,s.jsx)(o.td,{children:"maximum number of input files matching a given prefix to retrieve at a time"}),(0,s.jsx)(o.td,{}),(0,s.jsx)(o.td,{children:"1024"})]})]})]})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);